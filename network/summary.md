# Chapter 01 컴퓨터 네트워크

## 1.1 인터넷이란 무엇인가?

### 1.1.1 구성요소로 본 인터넷

* `인터넷`은 전 세계적으로 수십억 개의 컴퓨팅 장치를 연결하는 `네트워크`다.
  * 컴퓨터, 스마트폰, 가전제품, 시계, 자동차 등 비전통적인 인터넷 '사물들'이 인터넷에 연결되고 있다.
  * 이러한 모든 장치는 인터넷 용어로 `호스트(host)` 혹은 `종단 시스템(end system)`이라고 부른다.
* `종단 시스템`은 `통신 링크(communication link)`와 `패킷 스위치(packet switch)`의 네트워크로 연결된다.
  * `링크`는 동축케이블, 구리선, 광케이블, 라디오 스펙트럼을 포함한 다양한 `물리 매체(physical media)`로 구성된다.
    * 이때 각각의 링크들은 다양한 `전송률(transmission rate, 링크 대역폭)`을 이용하여 데이터를 전송하며 전송률을 초당 비트 수를 의미하는 `bps(bit per second)` 단위를 사용한다.
  * 한 종단 시스템이 다른 종단 시스템으로 보낼 데이터를 갖고 있을 때, 송신 종단 시스템은 그 데이터를 `세그먼트(segment)`로 나누고 각 세그먼트에 `헤더(header)`를 붙인다. 이렇게 만들어진 정보 패키지는 컴퓨터 네트워크에서 `패킷(packet)`이라고 부른다.
  * `패킷`은 목적지 종단 시스템으로 네트워크를 통해 보내지고 목적지에서 원래의 데이터로 다시 조립된다.
  * `패킷 교환기(또는 스위치)`는 `입력 통신 링크`의 하나로 도착하는 `패킷`을 하나 받아서 `출력 통신 링크`의 하나로 그 패킷을 전달한다.
    * `패킷 스위치`는 많은 형태와 특징이 있는데, 오늘날의 인터넷에서 가장 널리 사용되는 2 가지 종류로는 `라우터(router)`와 `링크 계층 스위치(link-layer switch)`가 있다.
    * `링크 계층 스위치`는 보통 `접속 네트워크`에서 사용되고 `라우터`는 `네트워크 코어`에서 사용된다.
  * `패킷`이 송신 종단 시스템에서 수신 종단 시스템에 도달하는 동안 거쳐온 일련의 `통신 링크`와 `패킷 스위치`를 네트워크상의 `경로(router 혹은 path)`라고 한다.
  * 종단 시스템은 `ISP(Internet Service Provider)`를 통해 인터넷에 접속하는데 지역 케이블 혹은 전화 회사와 같은 가정 ISP, 법인 ISP, 대학 ISP, 더 나아가 공항, 커피숍 등 기타 공공장소 등에서 와이파이 접속을 제공하는 ISP, 스마트폰과 다른 장치들에 이동 접속을 제공하는 셀룰러 데이터 ISP를 포함한다.
    * 각 ISP는 패킷 스위치와 통신 링크로 이루어진 `네트워크`다.
    * ISP는 종단 시스템에게 케이블 모뎀이나 DSL 같은 가정용 초고속 접속, 고속 LAN 접속, 이동 무선 접속, 56kbps 다이얼업 모뎀 접속을 포함하는 다양한 `네트워크 접속`을 제공한다.
    * 하위 계층 ISP는 국가 그리고 국제 상위 계층 ISP를 통해 서로 연결된다.
      * 상위 계층 ISP는 `광 링크`로 연결된 `고속 라우터`로 구성된다. 
      * 상위 계층이든 하위 계층이든 각 ISP 네트워크는 따로 관리되고 `IP 프로토콜`을 수행하며 또한 `네이밍(naming)`과 `주소배정 방식`을 따른다.
  * 종단 시스템, 패킷 스위치를 비롯한 인터넷의 다른 구성요소는 `인터넷에서 정보 송수신을 제어`하는 여러 `프로토콜(protocol)`을 수행한다.
    * 특히 `TCP(Transmission Control Protocol)`와 `IP(Internet Protocol)`은 인터넷에서 가장 중요한 프로토콜이다.
    * `IP 프로토콜`은 `라우터와 종단 시스템 사이에서 송수신되는 패킷 포맷을 기술`한다.
    * 이러한 인터넷의 주요 프로토콜을 통칭하여 `TCP/IP`라고 한다.
    * 각각의 혹은 모든 프로토콜이 무엇을 수행하는지에 대해 합의하는 것도 매우 중요하다.
      * 인터넷 표준을 `IETF(Internet Enginerring Task Force)`에서 개발하며 IETF 표준 문서를 `RFC(requests for comment)`라고 한다.

### 1.1.2 서비스 측면에서 본 인터넷

* `애플리케이션에 서비스를 제공하는 인프라스트럭처`로서 `인터넷`을 기술할 수 있다.
  * `인터넷 애플리케이션`은 전자메일, 웹 서핑, 실시간 지도 서비스, 동영상 스트리밍, SNS, 게임 등을 포함한다.
  * 이러한 애플리케이션은 서로 `데이터를 교환`하는 많은 `종단 시스템`을 포함하고 있기 떄문에 `분산 애플리케이션(distributed application)`이라고 부른다.
  * 중요한 것은 인터넷 애플리케이션은 `종단 시스템`에서 수행된다는 점이다. (즉 네트워크 코어에 있는 패킷 교환기에서 수행되지 않는다.
  * 패킷 교환기는 종단 시스템 간의 데이터 교환을 쉽게 해주지만 이들은 데이터의 시작과 끝인 애플리케이션에는 관심을 갖지 않는다.
* 만약 당신이 JAVA 또는 Python의 언어를 이용하여 애플리케이션을 작성하였다면, 한 종단 시스템에서 수행되는 해당 애플리케이션이 다른 종단 시스템에서 수행되고 있는 프로그램으로 데이터를 보내도록 인터넷에 지시할 것인가?
  * 이를 해결하기 위해 종단 시스템은 이러한 상황에서 어떻게 데이터를 전달하도록 요구하는지를 명시하는 `소켓 인터페이스(socket interface)`를 제공한다.
  * 인터넷 소켓 인터페이스는 송신 프로그램이 따라야 하는 규칙의 집합이며 인터넷은 이 규칙에 따라 데이터를 목적지 프로그램으로 전달하게 된다.
* 인터넷은 여러 `인터넷 서비스`를 애플리케이션에 제공한다.

### 1.1.3 프로토콜이란 무엇인가?

* `프로토콜`
  * 원할한 소통 및 통신을 위해 지키기로 약속한 규약
  * 매시지의 송수신과 메시지를 송수신할 때 취하는 일반 행동이 프로토콜의 중심에 있다.

* `네트워크 프로토콜`
  * 통신하는 둘 이상의 원격 개체가 포함된 인터넷에서의 모든 활동은 프로토콜이 제어한다.
  * 물리적으로 연결된 두 컴퓨터의 `네트워크 접속 카드`에서 `하드웨어`로 구현된 프로토콜은 컴퓨터 사이에 연결된 '선로상'의 `비트` 흐름을 제어한다.
    * 예를 들어, 종단 시스템에 있는 `혼잡 제어(congestion-control)` 프로토콜은 송수신자 간에 전송되는 `패킷 전송률`을 조절한다.
    * `라우터`에서 프로토콜은 출발지(source)에서 목적지(destination)까지 `패킷 경로`로 설정한다.
  * `프로토콜`은 둘 이상의 통신 개체 간에 교환되는 메시지 포맷과 순서뿐만 아니라, 메시지의 송수신과 다른 이벤트에 따른 행동들을 정의한다.

## 1.2 네트워크의 가장자리

* 인터넷에 연결되는 컴퓨터와 그 밖의 장치를 `종단 시스템`이라고 부른다.
* 종단 시스템은 웹 브라우저 프로그램, 웹 서버 프로그램, 전자메일 클라이언트 프로그램 같은 애플리케이션을 수행하므로 `호스트(host)`라고도 부른다. (즉, 종단 시스템 = 호스트)
* 호스트는 때때로 `클라이언트(client)`와 `서버(server)`로 구분된다.

### 1.2.1 접속 네트워크

* `접속 네트워크(access network)`
  * 종단 시스템을 그 종단 시스템으로부터 먼 거리에 있는 다른 종단 시스템까지의 경로상에 있는 `첫 번째 라우터(가장자리 라우터(edgeroute)라고도 함)`에 연결하는 `네트워크`

#### 가정 접속: DSL, 케이블, FTTH, 5G 고정 무선

* 오늘날 두 가지 가장 널리 보급된 광대역 가정 접속 유형은  `DSL(digital subscriber line)`과 `케이블`이다.

#### DSL

* 일반적으로 가정은 유선 로컬 전화 서비스를 제공하는 같은 지역 회사(telco)로부터 DSL 인터넷 접속 서비스를 받는다.
  * 따라서 DSL을 사용할 때 고객의 텔코(telco)가 `ISP`도 된다.
  * 각 고객의 `DSL 모뎀`은 텔코의 `지역 중앙국(central office, CO)`에 위치한 `DSLAM(digital subscriber line access multiplexer)`과 데이터를 교환하기 위해 기존 전화 회선을 이용한다.

  ```python
  # 모뎀과 멀티플렉서
  모뎀 = Modulator-Demodulator
  즉 변조와 복조를 동시에 수행하는 장치
  
  멀티플렉서 = MUX (여러 개의 입력 신호를 하나의 출력 신호로 결합)
  디멀티플렉서 = DEMUX (하나의 입력 신호를 여러 개의 출력 신호로 분리)
  
  다만 DSLAM의 경우 MUX 기능과 DEMUX 기능을 모두 수행한다.
  ```

  * 가정의 DSL 모뎀은 디지털 데이터를 받아서 고주파 신호로 변환하고, 여러 가정으로부터의 아날로그 신호는 DSLAM에서 디지털 포맷으로 다시 변환된다. 
    * 고속 다운스트림 채널: 50kHz ~ 1MHz 대역
    * 중간 속도의 업스트림 채널: 4 ~ 50kHz 대역
    * 일반적인 양방향 전화 채널: 0 ~ 4kHz 대역
  * 이 방식은 단일 DSL 링크가 3개의 분리된 링크인 것처럼 보이게 하여 하나의 전화 회선과 인터넷 연결이 동시에 DSL 링크를 공유할 수 있게 한다.
  * 고객 쪽에 있는 `스플리터`는 가정에 도착하는 데이터와 전화 신호를 분리하고 데이터 신호를 DSL 모뎀으로 전송한다.
  * DSLAM은 데이터를 인터넷으로 송신한다.
  * 최신 표준에서는 업스트림과 다운스트림을 결합한 1Gbps 속도를 정의하고 있다. 또한 업스트림과 다운스트림 속도가 다르기 때문에 이 접속 방식을 `비대칭(asymmetric)`이라고 한다.
  * 공학자들은 DSL을 가정과 CO 사이의 짧은 거리를 고려하여 급하게 설계했기 때문에 가정이 CO로부터 8 ~ 16km 내에 있지 않으면 가정은 다른 유형의 인터넷 접속을 고려해야 한다.

##### 케이블

* `케이블 인터넷 접속`은 케이블 TV 회사의 기존 케이블 TV 인프라스트럭처를 이용한다.
* 가정은 케이블 TV 서비스를 제공하는 같은 회사로부터 인터넷 접속 서비스를 받는다.
* `광케이블`은 `케이블 헤드엔드(head end)`를 이웃 `레벨 정션(junction)`에 연결하며 이로부터 개별 가정과 아파트에 도달하는 데 전통적인 `동축케이블`이 사용된다.

  

